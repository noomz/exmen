---
phase: 01-foundation
plan: 02
type: execute
depends_on: ["01-01"]
files_modified: [Exmen/Models/Action.swift, Exmen/Views/MenuContentView.swift, Exmen/ExmenApp.swift]
---

<objective>
Create the basic menu UI with static action list, Action model, and quit button.

Purpose: Establish the UI structure and data model that will be used throughout the app.
Output: Clickable menu bar app showing a list of static actions with quit functionality.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation/01-RESEARCH.md
@.planning/phases/01-foundation/01-01-SUMMARY.md

**From RESEARCH.md:**
- Always include quit button (no dock icon = no right-click quit)
- Use .keyboardShortcut("q", modifiers: .command) for Cmd+Q
- NSApp.terminate(nil) for standard macOS termination
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Action model</name>
  <files>Exmen/Models/Action.swift</files>
  <action>
Create the Action data model that will represent executable actions:

```swift
import Foundation

struct Action: Identifiable {
    let id: UUID
    let name: String
    let icon: String  // SF Symbol name
    let description: String

    init(id: UUID = UUID(), name: String, icon: String = "terminal", description: String = "") {
        self.id = id
        self.name = name
        self.icon = icon
        self.description = description
    }
}

// Static sample actions for Phase 1
extension Action {
    static let samples: [Action] = [
        Action(name: "Generate Phone Number", icon: "phone", description: "Generate random phone number"),
        Action(name: "Update Homebrew", icon: "arrow.clockwise", description: "Run brew update && upgrade"),
        Action(name: "Check Disk Space", icon: "internaldrive", description: "Show available disk space")
    ]
}
```

This is a minimal model for Phase 1. Will be extended in Phase 2 with TOML config support.
  </action>
  <verify>File exists at Exmen/Models/Action.swift with Action struct and samples</verify>
  <done>Action model created with Identifiable conformance and sample data</done>
</task>

<task type="auto">
  <name>Task 2: Create MenuContentView with actions list and quit</name>
  <files>Exmen/Views/MenuContentView.swift</files>
  <action>
Create the main menu content view:

```swift
import SwiftUI

struct MenuContentView: View {
    let actions: [Action] = Action.samples

    var body: some View {
        VStack(spacing: 0) {
            // Header
            HStack {
                Image(systemName: "terminal.fill")
                    .foregroundColor(.accentColor)
                Text("Exmen")
                    .font(.headline)
                Spacer()
            }
            .padding()

            Divider()

            // Actions list
            ScrollView {
                LazyVStack(spacing: 4) {
                    ForEach(actions) { action in
                        ActionRowView(action: action)
                    }
                }
                .padding(.vertical, 8)
                .padding(.horizontal, 12)
            }

            Divider()

            // Footer with quit button
            HStack {
                Text("v1.0")
                    .font(.caption)
                    .foregroundColor(.secondary)
                Spacer()
                Button("Quit") {
                    NSApp.terminate(nil)
                }
                .keyboardShortcut("q", modifiers: .command)
            }
            .padding(12)
        }
        .frame(width: 280, height: 320)
    }
}

struct ActionRowView: View {
    let action: Action
    @State private var isHovered = false

    var body: some View {
        Button(action: {
            // Will execute action in Phase 3
            print("Clicked: \(action.name)")
        }) {
            HStack(spacing: 12) {
                Image(systemName: action.icon)
                    .frame(width: 20)
                    .foregroundColor(.accentColor)

                VStack(alignment: .leading, spacing: 2) {
                    Text(action.name)
                        .font(.body)
                    if !action.description.isEmpty {
                        Text(action.description)
                            .font(.caption)
                            .foregroundColor(.secondary)
                    }
                }

                Spacer()

                Image(systemName: "play.fill")
                    .font(.caption)
                    .foregroundColor(.secondary)
                    .opacity(isHovered ? 1 : 0)
            }
            .padding(.vertical, 8)
            .padding(.horizontal, 12)
            .background(isHovered ? Color.accentColor.opacity(0.1) : Color.clear)
            .cornerRadius(6)
        }
        .buttonStyle(.plain)
        .onHover { hovering in
            isHovered = hovering
        }
    }
}

#Preview {
    MenuContentView()
}
```

Key points:
- Quit button with Cmd+Q shortcut (essential per RESEARCH.md)
- Hover state for action rows
- Clean separation of header, content, footer
- Preview for development
  </action>
  <verify>File exists at Exmen/Views/MenuContentView.swift with MenuContentView and ActionRowView</verify>
  <done>MenuContentView created with action list, hover states, and quit button</done>
</task>

<task type="auto">
  <name>Task 3: Update ExmenApp to use MenuContentView</name>
  <files>Exmen/ExmenApp.swift</files>
  <action>
Update the app entry point to use the new MenuContentView:

```swift
import SwiftUI

@main
struct ExmenApp: App {
    var body: some Scene {
        MenuBarExtra("Exmen", systemImage: "terminal.fill") {
            MenuContentView()
        }
        .menuBarExtraStyle(.window)
    }
}
```

The frame is now set in MenuContentView, keeping ExmenApp clean.
  </action>
  <verify>ExmenApp.swift references MenuContentView in MenuBarExtra content</verify>
  <done>ExmenApp updated to render MenuContentView</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Exmen/Models/Action.swift exists with Action struct
- [ ] Exmen/Views/MenuContentView.swift exists with MenuContentView and ActionRowView
- [ ] ExmenApp.swift updated to use MenuContentView
- [ ] Quit button present with Cmd+Q shortcut
</verification>

<success_criteria>
- All tasks completed
- Action model with sample data
- Menu content view with header, action list, quit button
- Hover states on action rows
- Phase 1 Foundation complete
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-02-SUMMARY.md`

Note: This completes Phase 1. Mark phase as complete in ROADMAP.md progress table.
</output>
